import{z as r,e as c,f,b as j,g as N,j as e,B as p}from"./index-C942lwoZ.js";import{F as g,C as h}from"./dashboard-CQ0oUUA2.js";import{F as b,I as d,T as y}from"./login-b1Lb-HGX.js";import{P as v}from"./pen-kM8SJ4PQ.js";const P=r.object({email:r.string().min(1,"Required").email("Invalid email"),firstName:r.string().min(1,"Required"),lastName:r.string().min(1,"Required"),bio:r.string()}),F=({data:s})=>j.patch("/users/profile",s),U=({mutationConfig:s}={})=>{const{refetch:i}=c(),{onSuccess:a,...o}=s||{};return f({onSuccess:(...m)=>{i(),a==null||a(...m)},...o,mutationFn:F})},w=()=>{var o,m,u,x;const s=c(),{addNotification:i}=N(),a=U({mutationConfig:{onSuccess:()=>{i({type:"success",title:"Profile Updated"})}}});return e.jsx(g,{isDone:a.isSuccess,triggerButton:e.jsx(p,{icon:e.jsx(v,{className:"size-4"}),size:"sm",children:"Update Profile"}),title:"Update Profile",submitButton:e.jsx(p,{form:"update-profile",type:"submit",size:"sm",isLoading:a.isPending,children:"Submit"}),children:e.jsx(b,{id:"update-profile",onSubmit:t=>{a.mutate({data:t})},options:{defaultValues:{firstName:((o=s.data)==null?void 0:o.firstName)??"",lastName:((m=s.data)==null?void 0:m.lastName)??"",email:((u=s.data)==null?void 0:u.email)??"",bio:((x=s.data)==null?void 0:x.bio)??""}},schema:P,children:({register:t,formState:n})=>e.jsxs(e.Fragment,{children:[e.jsx(d,{label:"First Name",error:n.errors.firstName,registration:t("firstName")}),e.jsx(d,{label:"Last Name",error:n.errors.lastName,registration:t("lastName")}),e.jsx(d,{label:"Email Address",type:"email",error:n.errors.email,registration:t("email")}),e.jsx(y,{label:"Bio",error:n.errors.bio,registration:t("bio")})]})})})},l=({label:s,value:i})=>e.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 sm:py-5",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:s}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:i})]}),C=()=>{const s=c();return s.data?e.jsx(h,{title:"Profile",children:e.jsxs("div",{className:"overflow-hidden bg-white shadow sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"User Information"}),e.jsx(w,{})]}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Personal details of the user."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:e.jsxs("dl",{className:"sm:divide-y sm:divide-gray-200",children:[e.jsx(l,{label:"First Name",value:s.data.firstName}),e.jsx(l,{label:"Last Name",value:s.data.lastName}),e.jsx(l,{label:"Email Address",value:s.data.email}),e.jsx(l,{label:"Role",value:s.data.role}),e.jsx(l,{label:"Bio",value:s.data.bio})]})})]})}):null};export{C as default};
