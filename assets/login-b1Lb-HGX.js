import{e as Rt,m as Te,n as ct,o as w,p as pe,j as g,H as Lt,t as Tt,a3 as Pt,v as T,a4 as Pe,a5 as ke,k as G,a6 as It,a7 as Mt,a8 as Ot,a9 as Ut,aa as Bt,ab as qt,ac as Ht,ad as Wt,ae as zt,B as Kt,L as Xt}from"./index-C942lwoZ.js";const Gt=({children:e,title:r})=>{const t=Rt(),[i]=Te(),o=i.get("redirectTo"),n=ct();return w.useEffect(()=>{t.data&&n(o||pe.app.dashboard.getHref(),{replace:!0})},[t.data,n,o]),g.jsxs(g.Fragment,{children:[g.jsx(Lt,{title:r}),g.jsxs("div",{className:"flex min-h-screen flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(Tt,{className:"flex items-center text-white",to:pe.home.getHref(),children:g.jsx("img",{className:"h-24 w-auto",src:Pt,alt:"Workflow"})})}),g.jsx("h2",{className:"mt-3 text-center text-3xl font-extrabold text-gray-900",children:r})]}),g.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:g.jsx("div",{className:"bg-white px-4 py-8 shadow sm:rounded-lg sm:px-10",children:e})})]})]})};var he=e=>e.type==="checkbox",le=e=>e instanceof Date,L=e=>e==null;const ut=e=>typeof e=="object";var N=e=>!L(e)&&!Array.isArray(e)&&ut(e)&&!le(e),Jt=e=>N(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Qt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Yt=(e,r)=>e.has(Qt(r)),Zt=e=>{const r=e.constructor&&e.constructor.prototype;return N(r)&&r.hasOwnProperty("isPrototypeOf")},Ie=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ie&&(e instanceof Blob||e instanceof FileList))&&(t||N(e)))if(r=t?[]:{},!t&&!Zt(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=B(e[i]));else return e;return r}var be=e=>Array.isArray(e)?e.filter(Boolean):[],$=e=>e===void 0,y=(e,r,t)=>{if(!r||!N(e))return t;const i=be(r.split(/[,[\].]+?/)).reduce((o,n)=>L(o)?o:o[n],e);return $(i)||i===e?$(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean";const Ze={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dt=T.createContext(null),er=()=>T.useContext(dt),tr=e=>{const{children:r,...t}=e;return T.createElement(dt.Provider,{value:t},r)};var rr=(e,r,t,i=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const c=n;return r._proxyFormState[c]!==W.all&&(r._proxyFormState[c]=!i||W.all),e[c]}});return o},M=e=>N(e)&&!Object.keys(e).length,sr=(e,r,t,i)=>{t(e);const{name:o,...n}=e;return M(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(c=>r[c]===W.all)},Ne=e=>Array.isArray(e)?e:[e];function ir(e){const r=T.useRef(e);r.current=e,T.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var X=e=>typeof e=="string",nr=(e,r,t,i,o)=>X(e)?(i&&r.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),y(t,n))):(i&&(r.watchAll=!0),t),Me=e=>/^\w*$/.test(e),ft=e=>be(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,r,t)=>{let i=-1;const o=Me(r)?[r]:ft(r),n=o.length,c=n-1;for(;++i<n;){const h=o[i];let V=t;if(i!==c){const A=e[h];V=N(A)||Array.isArray(A)?A:isNaN(+o[i+1])?{}:[]}e[h]=V,e=e[h]}return e},yt=(e,r,t,i,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},et=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched}),tt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,r,t,i)=>{for(const o of t||Object.keys(e)){const n=y(e,o);if(n){const{_f:c,...h}=n;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],o)&&!i)break;if(c.ref&&r(c.ref,c.name)&&!i)break;ye(h,r)}else N(h)&&ye(h,r)}}};var ar=(e,r,t)=>{const i=be(y(e,t));return F(i,"root",r[t]),F(e,t,i),e},Oe=e=>e.type==="file",ee=e=>typeof e=="function",we=e=>{if(!Ie)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},xe=e=>X(e),Ue=e=>e.type==="radio",_e=e=>e instanceof RegExp;const rt={value:!1,isValid:!1},st={value:!0,isValid:!0};var ht=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$(e[0].attributes.value)?$(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:rt}return rt};const it={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,it):it;function nt(e,r,t="validate"){if(xe(e)||Array.isArray(e)&&e.every(xe)||Y(e)&&!e)return{type:t,message:xe(e)?e:"",ref:r}}var oe=e=>N(e)&&!_e(e)?e:{value:e,message:""},at=async(e,r,t,i,o)=>{const{ref:n,refs:c,required:h,maxLength:V,minLength:A,min:k,max:m,pattern:Z,validate:z,name:j,valueAsNumber:se,mount:P,disabled:K}=e._f,v=y(r,j);if(!P||K)return{};const q=c?c[0]:n,J=x=>{i&&q.reportValidity&&(q.setCustomValidity(Y(x)?"":x||""),q.reportValidity())},S={},ie=Ue(n),ge=he(n),te=ie||ge,ne=(se||Oe(n))&&$(n.value)&&$(v)||we(n)&&n.value===""||v===""||Array.isArray(v)&&!v.length,O=yt.bind(null,j,t,S),me=(x,p,E,R=Q.maxLength,H=Q.minLength)=>{const U=x?p:E;S[j]={type:x?R:H,message:U,ref:n,...O(x?R:H,U)}};if(o?!Array.isArray(v)||!v.length:h&&(!te&&(ne||L(v))||Y(v)&&!v||ge&&!ht(c).isValid||ie&&!bt(c).isValid)){const{value:x,message:p}=xe(h)?{value:!!h,message:h}:oe(h);if(x&&(S[j]={type:Q.required,message:p,ref:q,...O(Q.required,p)},!t))return J(p),S}if(!ne&&(!L(k)||!L(m))){let x,p;const E=oe(m),R=oe(k);if(!L(v)&&!isNaN(v)){const H=n.valueAsNumber||v&&+v;L(E.value)||(x=H>E.value),L(R.value)||(p=H<R.value)}else{const H=n.valueAsDate||new Date(v),U=de=>new Date(new Date().toDateString()+" "+de),ce=n.type=="time",ue=n.type=="week";X(E.value)&&v&&(x=ce?U(v)>U(E.value):ue?v>E.value:H>new Date(E.value)),X(R.value)&&v&&(p=ce?U(v)<U(R.value):ue?v<R.value:H<new Date(R.value))}if((x||p)&&(me(!!x,E.message,R.message,Q.max,Q.min),!t))return J(S[j].message),S}if((V||A)&&!ne&&(X(v)||o&&Array.isArray(v))){const x=oe(V),p=oe(A),E=!L(x.value)&&v.length>+x.value,R=!L(p.value)&&v.length<+p.value;if((E||R)&&(me(E,x.message,p.message),!t))return J(S[j].message),S}if(Z&&!ne&&X(v)){const{value:x,message:p}=oe(Z);if(_e(x)&&!v.match(x)&&(S[j]={type:Q.pattern,message:p,ref:n,...O(Q.pattern,p)},!t))return J(p),S}if(z){if(ee(z)){const x=await z(v,r),p=nt(x,q);if(p&&(S[j]={...p,...O(Q.validate,p.message)},!t))return J(p.message),S}else if(N(z)){let x={};for(const p in z){if(!M(x)&&!t)break;const E=nt(await z[p](v,r),q,p);E&&(x={...E,...O(p,E.message)},J(E.message),t&&(S[j]=x))}if(!M(x)&&(S[j]={ref:q,...x},!t))return S}}return J(!0),S};function or(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=$(e)?i++:e[r[i++]];return e}function lr(e){for(const r in e)if(e.hasOwnProperty(r)&&!$(e[r]))return!1;return!0}function D(e,r){const t=Array.isArray(r)?r:Me(r)?[r]:ft(r),i=t.length===1?e:or(e,t),o=t.length-1,n=t[o];return i&&delete i[n],o!==0&&(N(i)&&M(i)||Array.isArray(i)&&lr(i))&&D(e,t.slice(0,-1)),e}var Ce=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Fe=e=>L(e)||!ut(e);function re(e,r){if(Fe(e)||Fe(r))return e===r;if(le(e)&&le(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const o of t){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=r[o];if(le(n)&&le(c)||N(n)&&N(c)||Array.isArray(n)&&Array.isArray(c)?!re(n,c):n!==c)return!1}}return!0}var gt=e=>e.type==="select-multiple",cr=e=>Ue(e)||he(e),je=e=>we(e)&&e.isConnected,mt=e=>{for(const r in e)if(ee(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(N(e)||t)for(const i in e)Array.isArray(e[i])||N(e[i])&&!mt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ve(e[i],r[i])):L(e[i])||(r[i]=!0);return r}function vt(e,r,t){const i=Array.isArray(e);if(N(e)||i)for(const o in e)Array.isArray(e[o])||N(e[o])&&!mt(e[o])?$(r)||Fe(t[o])?t[o]=Array.isArray(e[o])?Ve(e[o],[]):{...Ve(e[o])}:vt(e[o],L(r)?{}:r[o],t[o]):t[o]=!re(e[o],r[o]);return t}var ve=(e,r)=>vt(e,r,Ve(r)),xt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>$(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;function Re(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Oe(r)?r.files:Ue(r)?bt(e.refs).value:gt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?ht(e.refs).value:xt($(r.value)?e.ref.value:r.value,e)}var ur=(e,r,t,i)=>{const o={};for(const n of e){const c=y(r,n);c&&F(o,n,c._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},fe=e=>$(e)?e:_e(e)?e.source:N(e)?_e(e.value)?e.value.source:e.value:e,dr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ot(e,r,t){const i=y(e,t);if(i||Me(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),c=y(r,n),h=y(e,n);if(c&&!Array.isArray(c)&&t!==n)return{name:t};if(h&&h.type)return{name:n,error:h};o.pop()}return{name:t}}var fr=(e,r,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,yr=(e,r)=>!be(y(e,r)).length&&D(e,r);const hr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function br(e={}){let r={...hr,...e},t={submitCount:0,isDirty:!1,isLoading:ee(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=N(r.defaultValues)||N(r.values)?B(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:B(o),c={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},V,A=0;const k={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Ce(),array:Ce(),state:Ce()},Z=et(r.mode),z=et(r.reValidateMode),j=r.criteriaMode===W.all,se=s=>a=>{clearTimeout(A),A=setTimeout(s,a)},P=async s=>{if(k.isValid||s){const a=r.resolver?M((await te()).errors):await O(i,!0);a!==t.isValid&&m.state.next({isValid:a})}},K=(s,a)=>{(k.isValidating||k.validatingFields)&&((s||Array.from(h.mount)).forEach(l=>{l&&(a?F(t.validatingFields,l,a):D(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!M(t.validatingFields)}))},v=(s,a=[],l,f,d=!0,u=!0)=>{if(f&&l){if(c.action=!0,u&&Array.isArray(y(i,s))){const b=l(y(i,s),f.argA,f.argB);d&&F(i,s,b)}if(u&&Array.isArray(y(t.errors,s))){const b=l(y(t.errors,s),f.argA,f.argB);d&&F(t.errors,s,b),yr(t.errors,s)}if(k.touchedFields&&u&&Array.isArray(y(t.touchedFields,s))){const b=l(y(t.touchedFields,s),f.argA,f.argB);d&&F(t.touchedFields,s,b)}k.dirtyFields&&(t.dirtyFields=ve(o,n)),m.state.next({name:s,isDirty:x(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(n,s,a)},q=(s,a)=>{F(t.errors,s,a),m.state.next({errors:t.errors})},J=s=>{t.errors=s,m.state.next({errors:t.errors,isValid:!1})},S=(s,a,l,f)=>{const d=y(i,s);if(d){const u=y(n,s,$(l)?y(o,s):l);$(u)||f&&f.defaultChecked||a?F(n,s,a?u:Re(d._f)):R(s,u),c.mount&&P()}},ie=(s,a,l,f,d)=>{let u=!1,b=!1;const _={name:s},C=!!(y(i,s)&&y(i,s)._f.disabled);if(!l||f){k.isDirty&&(b=t.isDirty,t.isDirty=_.isDirty=x(),u=b!==_.isDirty);const I=C||re(y(o,s),a);b=!!(!C&&y(t.dirtyFields,s)),I||C?D(t.dirtyFields,s):F(t.dirtyFields,s,!0),_.dirtyFields=t.dirtyFields,u=u||k.dirtyFields&&b!==!I}if(l){const I=y(t.touchedFields,s);I||(F(t.touchedFields,s,l),_.touchedFields=t.touchedFields,u=u||k.touchedFields&&I!==l)}return u&&d&&m.state.next(_),u?_:{}},ge=(s,a,l,f)=>{const d=y(t.errors,s),u=k.isValid&&Y(a)&&t.isValid!==a;if(e.delayError&&l?(V=se(()=>q(s,l)),V(e.delayError)):(clearTimeout(A),V=null,l?F(t.errors,s,l):D(t.errors,s)),(l?!re(d,l):d)||!M(f)||u){const b={...f,...u&&Y(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...b},m.state.next(b)}},te=async s=>{K(s,!0);const a=await r.resolver(n,r.context,ur(s||h.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return K(s),a},ne=async s=>{const{errors:a}=await te(s);if(s)for(const l of s){const f=y(a,l);f?F(t.errors,l,f):D(t.errors,l)}else t.errors=a;return a},O=async(s,a,l={valid:!0})=>{for(const f in s){const d=s[f];if(d){const{_f:u,...b}=d;if(u){const _=h.array.has(u.name);K([f],!0);const C=await at(d,n,j,r.shouldUseNativeValidation&&!a,_);if(K([f]),C[u.name]&&(l.valid=!1,a))break;!a&&(y(C,u.name)?_?ar(t.errors,C,u.name):F(t.errors,u.name,C[u.name]):D(t.errors,u.name))}b&&await O(b,a,l)}}return l.valid},me=()=>{for(const s of h.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!je(l)):!je(a._f.ref))&&$e(s)}h.unMount=new Set},x=(s,a)=>(s&&a&&F(n,s,a),!re(qe(),o)),p=(s,a,l)=>nr(s,h,{...c.mount?n:$(a)?o:X(s)?{[s]:a}:a},l,a),E=s=>be(y(c.mount?n:o,s,e.shouldUnregister?y(o,s,[]):[])),R=(s,a,l={})=>{const f=y(i,s);let d=a;if(f){const u=f._f;u&&(!u.disabled&&F(n,s,xt(a,u)),d=we(u.ref)&&L(a)?"":a,gt(u.ref)?[...u.ref.options].forEach(b=>b.selected=d.includes(b.value)):u.refs?he(u.ref)?u.refs.length>1?u.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(d)?!!d.find(_=>_===b.value):d===b.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(b=>b.checked=b.value===d):Oe(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||m.values.next({name:s,values:{...n}})))}(l.shouldDirty||l.shouldTouch)&&ie(s,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&de(s)},H=(s,a,l)=>{for(const f in a){const d=a[f],u=`${s}.${f}`,b=y(i,u);(h.array.has(s)||!Fe(d)||b&&!b._f)&&!le(d)?H(u,d,l):R(u,d,l)}},U=(s,a,l={})=>{const f=y(i,s),d=h.array.has(s),u=B(a);F(n,s,u),d?(m.array.next({name:s,values:{...n}}),(k.isDirty||k.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:ve(o,n),isDirty:x(s,u)})):f&&!f._f&&!L(u)?H(s,u,l):R(s,u,l),tt(s,h)&&m.state.next({...t}),m.values.next({name:c.mount?s:void 0,values:{...n}})},ce=async s=>{c.mount=!0;const a=s.target;let l=a.name,f=!0;const d=y(i,l),u=()=>a.type?Re(d._f):Jt(s),b=_=>{f=Number.isNaN(_)||_===y(n,l,_)};if(d){let _,C;const I=u(),ae=s.type===Ze.BLUR||s.type===Ze.FOCUS_OUT,Nt=!dr(d._f)&&!r.resolver&&!y(t.errors,l)&&!d._f.deps||fr(ae,y(t.touchedFields,l),t.isSubmitted,z,Z),Ee=tt(l,h,ae);F(n,l,I),ae?(d._f.onBlur&&d._f.onBlur(s),V&&V(0)):d._f.onChange&&d._f.onChange(s);const De=ie(l,I,ae,!1),Ct=!M(De)||Ee;if(!ae&&m.values.next({name:l,type:s.type,values:{...n}}),Nt)return k.isValid&&P(),Ct&&m.state.next({name:l,...Ee?{}:De});if(!ae&&Ee&&m.state.next({...t}),r.resolver){const{errors:Qe}=await te([l]);if(b(I),f){const jt=ot(t.errors,i,l),Ye=ot(Qe,i,jt.name||l);_=Ye.error,l=Ye.name,C=M(Qe)}}else K([l],!0),_=(await at(d,n,j,r.shouldUseNativeValidation))[l],K([l]),b(I),f&&(_?C=!1:k.isValid&&(C=await O(i,!0)));f&&(d._f.deps&&de(d._f.deps),ge(l,C,_,De))}},ue=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},de=async(s,a={})=>{let l,f;const d=Ne(s);if(r.resolver){const u=await ne($(s)?s:d);l=M(u),f=s?!d.some(b=>y(u,b)):l}else s?(f=(await Promise.all(d.map(async u=>{const b=y(i,u);return await O(b&&b._f?{[u]:b}:b)}))).every(Boolean),!(!f&&!t.isValid)&&P()):f=l=await O(i);return m.state.next({...!X(s)||k.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!f&&ye(i,ue,s?d:h.mount),f},qe=s=>{const a={...o,...c.mount?n:{}};return $(s)?a:X(s)?y(a,s):s.map(l=>y(a,l))},He=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),isTouched:!!y((a||t).touchedFields,s),isValidating:!!y((a||t).validatingFields,s),error:y((a||t).errors,s)}),$t=s=>{s&&Ne(s).forEach(a=>D(t.errors,a)),m.state.next({errors:s?t.errors:{}})},We=(s,a,l)=>{const f=(y(i,s,{_f:{}})._f||{}).ref;F(t.errors,s,{...a,ref:f}),m.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&f&&f.focus&&f.focus()},St=(s,a)=>ee(s)?m.values.subscribe({next:l=>s(p(void 0,a),l)}):p(s,a,!0),$e=(s,a={})=>{for(const l of s?Ne(s):h.mount)h.mount.delete(l),h.array.delete(l),a.keepValue||(D(i,l),D(n,l)),!a.keepError&&D(t.errors,l),!a.keepDirty&&D(t.dirtyFields,l),!a.keepTouched&&D(t.touchedFields,l),!a.keepIsValidating&&D(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&D(o,l);m.values.next({values:{...n}}),m.state.next({...t,...a.keepDirty?{isDirty:x()}:{}}),!a.keepIsValid&&P()},ze=({disabled:s,name:a,field:l,fields:f,value:d})=>{if(Y(s)){const u=s?void 0:$(d)?Re(l?l._f:y(f,a)._f):d;F(n,a,u),ie(a,u,!1,!1,!0)}},Se=(s,a={})=>{let l=y(i,s);const f=Y(a.disabled);return F(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),h.mount.add(s),l?ze({field:l,disabled:a.disabled,name:s,value:a.value}):S(s,!0,a.value),{...f?{disabled:a.disabled}:{},...r.progressive?{required:!!a.required,min:fe(a.min),max:fe(a.max),minLength:fe(a.minLength),maxLength:fe(a.maxLength),pattern:fe(a.pattern)}:{},name:s,onChange:ce,onBlur:ce,ref:d=>{if(d){Se(s,a),l=y(i,s);const u=$(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,b=cr(u),_=l._f.refs||[];if(b?_.find(C=>C===u):u===l._f.ref)return;F(i,s,{_f:{...l._f,...b?{refs:[..._.filter(je),u,...Array.isArray(y(o,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),S(s,!1,void 0,u)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Yt(h.array,s)&&c.action)&&h.unMount.add(s)}}},Ke=()=>r.shouldFocusError&&ye(i,ue,h.mount),Et=s=>{Y(s)&&(m.state.next({disabled:s}),ye(i,(a,l)=>{let f=s;const d=y(i,l);d&&Y(d._f.disabled)&&(f||(f=d._f.disabled)),a.disabled=f},0,!1))},Xe=(s,a)=>async l=>{let f;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=B(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:b}=await te();t.errors=u,d=b}else await O(i);if(D(t.errors,"root"),M(t.errors)){m.state.next({errors:{}});try{await s(d,l)}catch(u){f=u}}else a&&await a({...t.errors},l),Ke(),setTimeout(Ke);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},Dt=(s,a={})=>{y(i,s)&&($(a.defaultValue)?U(s,B(y(o,s))):(U(s,a.defaultValue),F(o,s,B(a.defaultValue))),a.keepTouched||D(t.touchedFields,s),a.keepDirty||(D(t.dirtyFields,s),t.isDirty=a.defaultValue?x(s,B(y(o,s))):x()),a.keepError||(D(t.errors,s),k.isValid&&P()),m.state.next({...t}))},Ge=(s,a={})=>{const l=s?B(s):o,f=B(l),d=M(s),u=d?o:f;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues)for(const b of h.mount)y(t.dirtyFields,b)?F(u,b,y(n,b)):U(b,y(u,b));else{if(Ie&&$(s))for(const b of h.mount){const _=y(i,b);if(_&&_._f){const C=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(we(C)){const I=C.closest("form");if(I){I.reset();break}}}}i={}}n=e.shouldUnregister?a.keepDefaultValues?B(o):{}:B(u),m.array.next({values:{...u}}),m.values.next({values:{...u}})}h={mount:a.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!k.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!e.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!re(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?[]:a.keepDirtyValues?a.keepDefaultValues&&n?ve(o,n):t.dirtyFields:a.keepDefaultValues&&s?ve(o,s):{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(s,a)=>Ge(ee(s)?s(n):s,a);return{control:{register:Se,unregister:$e,getFieldState:He,handleSubmit:Xe,setError:We,_executeSchema:te,_getWatch:p,_getDirty:x,_updateValid:P,_removeUnmounted:me,_updateFieldArray:v,_updateDisabledField:ze,_getFieldArray:E,_reset:Ge,_resetDefaultValues:()=>ee(r.defaultValues)&&r.defaultValues().then(s=>{Je(s,r.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Et,_subjects:m,_proxyFormState:k,_setErrors:J,get _fields(){return i},get _formValues(){return n},get _state(){return c},set _state(s){c=s},get _defaultValues(){return o},get _names(){return h},set _names(s){h=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:de,register:Se,handleSubmit:Xe,watch:St,setValue:U,getValues:qe,reset:Je,resetField:Dt,clearErrors:$t,unregister:$e,setError:We,setFocus:(s,a={})=>{const l=y(i,s),f=l&&l._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),a.shouldSelect&&d.select())}},getFieldState:He}}function gr(e={}){const r=T.useRef(),t=T.useRef(),[i,o]=T.useState({isDirty:!1,isValidating:!1,isLoading:ee(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ee(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...br(e),formState:i});const n=r.current.control;return n._options=e,ir({subject:n._subjects.state,next:c=>{sr(c,n._proxyFormState,n._updateFormState)&&o({...n._formState})}}),T.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),T.useEffect(()=>{if(n._proxyFormState.isDirty){const c=n._getDirty();c!==i.isDirty&&n._subjects.state.next({isDirty:c})}},[n,i.isDirty]),T.useEffect(()=>{e.values&&!re(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(c=>({...c}))):n._resetDefaultValues()},[e.values,n]),T.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),T.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),T.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),r.current.formState=rr(i,n),r.current}var lt=function(e,r,t){if(e&&"reportValidity"in e){var i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},pt=function(e,r){var t=function(o){var n=r.fields[o];n&&n.ref&&"reportValidity"in n.ref?lt(n.ref,o,e):n.refs&&n.refs.forEach(function(c){return lt(c,o,e)})};for(var i in r.fields)t(i)},mr=function(e,r){r.shouldUseNativeValidation&&pt(e,r);var t={};for(var i in e){var o=y(r.fields,i),n=Object.assign(e[i]||{},{ref:o&&o.ref});if(vr(r.names||Object.keys(e),i)){var c=Object.assign({},y(t,i));F(c,"root",n),F(t,i,c)}else F(t,i,n)}return t},vr=function(e,r){return e.some(function(t){return t.startsWith(r+".")})},xr=function(e,r){for(var t={};e.length;){var i=e[0],o=i.code,n=i.message,c=i.path.join(".");if(!t[c])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];t[c]={message:h.message,type:h.code}}else t[c]={message:n,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(k){return k.errors.forEach(function(m){return e.push(m)})}),r){var V=t[c].types,A=V&&V[i.code];t[c]=yt(c,r,t,o,A?[].concat(A,i.message):i.message)}e.shift()}return t},pr=function(e,r,t){return t===void 0&&(t={}),function(i,o,n){try{return Promise.resolve(function(c,h){try{var V=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(A){return n.shouldUseNativeValidation&&pt({},n),{errors:{},values:t.raw?i:A}})}catch(A){return h(A)}return V&&V.then?V.then(void 0,h):V}(0,function(c){if(function(h){return h.errors!=null}(c))return{values:{},errors:mr(xr(c.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw c}))}catch(c){return Promise.reject(c)}}};const wr=w.forwardRef((e,r)=>w.createElement(Pe.label,ke({},e,{ref:r,onMouseDown:t=>{var i;(i=e.onMouseDown)===null||i===void 0||i.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),wt=wr,_r=It("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=w.forwardRef(({className:e,...r},t)=>g.jsx(wt,{ref:t,className:G(_r(),e),...r}));Be.displayName=wt.displayName;const Fr=w.createContext({}),Ae=()=>{const e=w.useContext(Fr),r=w.useContext(_t),{getFieldState:t,formState:i}=er(),o=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=r;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...o}},_t=w.createContext({}),Vr=w.forwardRef(({className:e,...r},t)=>{const i=w.useId();return g.jsx(_t.Provider,{value:{id:i},children:g.jsx("div",{ref:t,className:G("space-y-2",e),...r})})});Vr.displayName="FormItem";const kr=w.forwardRef(({className:e,...r},t)=>{const{error:i,formItemId:o}=Ae();return g.jsx(Be,{ref:t,className:G(i&&"text-destructive",e),htmlFor:o,...r})});kr.displayName="FormLabel";const Ar=w.forwardRef(({...e},r)=>{const{error:t,formItemId:i,formDescriptionId:o,formMessageId:n}=Ae();return g.jsx(Mt,{ref:r,id:i,"aria-describedby":t?`${o} ${n}`:`${o}`,"aria-invalid":!!t,...e})});Ar.displayName="FormControl";const $r=w.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:i}=Ae();return g.jsx("p",{ref:t,id:i,className:G("text-[0.8rem] text-muted-foreground",e),...r})});$r.displayName="FormDescription";const Sr=w.forwardRef(({className:e,children:r,...t},i)=>{const{error:o,formMessageId:n}=Ae(),c=o?String(o==null?void 0:o.message):r;return c?g.jsx("p",{ref:i,id:n,className:G("text-[0.8rem] font-medium text-destructive",e),...t,children:c}):null});Sr.displayName="FormMessage";const Er=({onSubmit:e,children:r,className:t,options:i,id:o,schema:n})=>{const c=gr({...i,resolver:pr(n)});return g.jsx(tr,{...c,children:g.jsx("form",{className:G("space-y-6",t),onSubmit:c.handleSubmit(e),id:o,children:r(c)})})},Dr=({errorMessage:e})=>e?g.jsx("div",{role:"alert","aria-label":e,className:"text-sm font-semibold text-red-500",children:e}):null,Ft=e=>{const{label:r,error:t,children:i}=e;return g.jsxs("div",{children:[g.jsxs(Be,{children:[r,g.jsx("div",{className:"mt-1",children:i})]}),g.jsx(Dr,{errorMessage:t==null?void 0:t.message})]})},Le=w.forwardRef(({className:e,type:r,label:t,error:i,registration:o,...n},c)=>g.jsx(Ft,{label:t,error:i,children:g.jsx("input",{type:r,className:G("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:c,...o,...n})}));Le.displayName="Input";const Nr=w.forwardRef(({className:e,label:r,error:t,registration:i,...o},n)=>g.jsx(Ft,{label:r,error:t,children:g.jsx("textarea",{className:G("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...i,...o})}));Nr.displayName="Textarea";function Cr(e){const r=w.useRef({value:e,previous:e});return w.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}const Vt="Switch",[jr,Xr]=Ot(Vt),[Rr,Lr]=jr(Vt),Tr=w.forwardRef((e,r)=>{const{__scopeSwitch:t,name:i,checked:o,defaultChecked:n,required:c,disabled:h,value:V="on",onCheckedChange:A,...k}=e,[m,Z]=w.useState(null),z=Ut(r,v=>Z(v)),j=w.useRef(!1),se=m?!!m.closest("form"):!0,[P=!1,K]=Bt({prop:o,defaultProp:n,onChange:A});return w.createElement(Rr,{scope:t,checked:P,disabled:h},w.createElement(Pe.button,ke({type:"button",role:"switch","aria-checked":P,"aria-required":c,"data-state":kt(P),"data-disabled":h?"":void 0,disabled:h,value:V},k,{ref:z,onClick:qt(e.onClick,v=>{K(q=>!q),se&&(j.current=v.isPropagationStopped(),j.current||v.stopPropagation())})})),se&&w.createElement(Mr,{control:m,bubbles:!j.current,name:i,value:V,checked:P,required:c,disabled:h,style:{transform:"translateX(-100%)"}}))}),Pr="SwitchThumb",Ir=w.forwardRef((e,r)=>{const{__scopeSwitch:t,...i}=e,o=Lr(Pr,t);return w.createElement(Pe.span,ke({"data-state":kt(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:r}))}),Mr=e=>{const{control:r,checked:t,bubbles:i=!0,...o}=e,n=w.useRef(null),c=Cr(t),h=Ht(r);return w.useEffect(()=>{const V=n.current,A=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(A,"checked").set;if(c!==t&&m){const Z=new Event("click",{bubbles:i});m.call(V,t),V.dispatchEvent(Z)}},[c,t,i]),w.createElement("input",ke({type:"checkbox","aria-hidden":!0,defaultChecked:t},o,{tabIndex:-1,ref:n,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function kt(e){return e?"checked":"unchecked"}const At=Tr,Or=Ir,Ur=w.forwardRef(({className:e,...r},t)=>g.jsx(At,{className:G("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:g.jsx(Or,{className:G("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Ur.displayName=At.displayName;const Br=({onSuccess:e})=>{const r=Wt({onSuccess:e}),[t]=Te(),i=t.get("redirectTo");return g.jsxs("div",{children:[g.jsx(Er,{onSubmit:o=>{r.mutate(o)},schema:zt,children:({register:o,formState:n})=>g.jsxs(g.Fragment,{children:[g.jsx(Le,{type:"email",label:"Email Address",error:n.errors.email,registration:o("email")}),g.jsx(Le,{type:"password",label:"Password",error:n.errors.password,registration:o("password")}),g.jsx("div",{children:g.jsx(Kt,{isLoading:r.isPending,type:"submit",className:"w-full",children:"Log in"})})]})}),g.jsx("div",{className:"mt-2 flex items-center justify-end",children:g.jsx("div",{className:"text-sm",children:g.jsx(Xt,{to:pe.auth.register.getHref(i),className:"font-medium text-blue-600 hover:text-blue-500",children:"Register"})})})]})},qr=()=>{const e=ct(),[r]=Te(),t=r.get("redirectTo");return g.jsx(Gt,{title:"Log in to your account",children:g.jsx(Br,{onSuccess:()=>{e(`${t?`${t}`:pe.app.dashboard.getHref()}`,{replace:!0})}})})},Gr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"}));export{Gt as A,Er as F,Le as I,Be as L,Ur as S,Nr as T,Ft as a,Gr as l};
